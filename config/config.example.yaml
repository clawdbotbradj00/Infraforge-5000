# InfraForge Configuration
# Copy this to ~/.config/infraforge/config.yaml and fill in your values

proxmox:
  host: "192.0.2.10"
  port: 8006
  user: "root@pam"
  # Authentication: use either token OR password (token recommended)
  auth_method: "token"  # "token" or "password"
  token_name: "infraforge"
  token_value: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
  password: ""
  verify_ssl: true
  # For clusters, specify additional nodes (optional)
  # nodes:
  #   - "node1"
  #   - "node2"

dns:
  provider: "bind9"
  server: "198.51.100.1"
  port: 53
  zones:
    - "example.com"
    - "dev.example.com"
  domain: "example.com"
  tsig_key_name: "infraforge-key"
  tsig_key_secret: ""
  tsig_algorithm: "hmac-sha256"

ipam:
  # phpIPAM integration for IP address management
  provider: "phpipam"
  url: "https://ipam.example.com"
  app_id: "infraforge"
  # Authentication: use either token OR username/password
  token: ""
  username: ""
  password: ""
  verify_ssl: true

terraform:
  # Relative paths are resolved relative to the InfraForge install directory.
  # You can also use absolute paths or ~/paths.
  workspace: "./terraform"
  state_backend: "local"  # "local", "s3", "consul"

ansible:
  # Relative paths are resolved relative to the InfraForge install directory.
  # You can also use absolute paths or ~/paths.
  playbook_dir: "./ansible/playbooks"
  # Verify SSH host keys when running playbooks (default: true).
  # Set to false only if targeting newly provisioned VMs with unknown host keys.
  host_key_checking: true

cloudflare:
  # Cloudflare DNS management (optional, works alongside local DNS)
  # Create an API token at: dash.cloudflare.com/profile/api-tokens
  # Use the "Edit zone DNS" template, or create a custom token with:
  #   Zone → DNS → Edit   and   Zone → Zone → Read
  # InfraForge auto-discovers your zones and detects read/write access.
  api_token: ""

defaults:
  # Default values for new VM creation
  cpu_cores: 2
  memory_mb: 2048
  disk_gb: 20
  storage: "local-lvm"
  network_bridge: "vmbr0"
  os_type: "l26"  # Linux 2.6+ kernel
  start_on_create: true
  # Directory for staging template packages (.ifpkg) during export/import
  # exports_dir: "~/infraforge/vm-templates"
